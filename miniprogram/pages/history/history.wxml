<!--pages/history/history.wxml-->
<view class="container">
  <view class="header">
    <text class="title">游戏历史</text>
  </view>

  <view class="history-list">
    <block wx:for="{{historyList}}" wx:key="session_id">
      <view class="history-item card" bindtap="viewDetail" data-session-id="{{item.session_id}}">
        <view class="item-header">
          <text class="item-time">{{item.startTime}}</text>
          <text class="item-return {{item.returnColor}}">{{item.returnText}}{{item.totalReturnFormatted}}%</text>
        </view>
        <view class="item-stats">
          <text class="stat">交易: {{item.totalTrades}}次</text>
          <text class="stat">胜率: {{item.winRateFormatted}}%</text>
          <text class="stat">余额: ¥{{item.finalBalanceFormatted}}</text>
        </view>
      </view>
    </block>

    <view class="empty" wx:if="{{isEmpty}}">
      <text class="empty-text">暂无游戏记录</text>
      <text class="empty-tip">开始你的第一场交易吧！</text>
    </view>
  </view>
</view>
